<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-10-21 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Camel Demo &#x2013; Workshop</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft">
                                                <img src="Jtech_logo_final.jpg" alt="JTech - Camel Workshop" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="projectVersion">Version: 1.0.0-SNAPSHOT</span>
              </div>
            <div class="xright">                    <a href="https://ordina-jtech.github.io/" class="externalLink" title="Ordina-JTech blog">Ordina-JTech blog</a>
            |
                        <a href="https://www.ordina.nl" class="externalLink" title="Ordina.nl">Ordina.nl</a>
            
                &nbsp;| <span id="publishDate">Last Published: 2017-10-21</span>
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="install.html" title="install">install</a>
            </li>
                  <li class="none">
                          <a href="usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="build.html" title="Build">Build</a>
            </li>
                  <li class="none">
            <strong>Workshop</strong>
          </li>
                  <li class="none">
                          <a href="./" title="Source">Source</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>Workshop</h1>
<div class="section">
<h2><a name="Introduction"></a>Introduction</h2>
<p>This workshop has a couple of goals:</p>

<ul>
  
<li>Why would or should you want to use Enterprise Integration Patterns (EIP)</li>
  
<li>Familiarize yourself with the ease of integration with Camel</li>
  
<li>Have some exercise with the framework</li>
  
<li>Get the plumbing code to get started for free :-)</li>
</ul></div>
<div class="section">
<h2><a name="How"></a>How</h2>
<p>This site will walk you through a couple of routes to get familiarize yourself with the Camel framework. The exercises will be explained below and what is expected. The exercises will start out easy and will progressively get more difficult. We will go into the Enterprise Integration Patterns and will also implement some of them.</p>
<p>Hope you like the experience and love the ease with which you can now integrate different technologies and protocols.</p></div>
<div class="section">
<h2><a name="Hump_on"></a>Hump on&#x2026;</h2>
<div class="section">
<h3><a name="File_routing"></a>File routing</h3>
<p>One of the things often done in any language is to copy files from one location to another.</p>
<p>In pure java code this will look something like this:</p>

<div class="source">
<div class="source">
<pre>import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FilenameFilter;
import java.io.InputStream;
import java.io.OutputStream;

/**
* Copy all the files in a folder with specific extension to another folder. 
* Both the folders are specified on the command line. 
* The program currently uses .java extension as filter.
**/
public class CopyFilesWithExtension {
	
	public static void main(String[] args) {
		if(args.length!=2) {
			System.out.println(&quot;Command usage: java CopyFilesWithExtension sourcedirectory targetdirectory&quot;);
		}
		
		String sourceFolder = args[0];
		String targetFolder = args[1];
		
		File sFile = new File(sourceFolder);
		// Find files with specified extension
		File[] sourceFiles = sFile.listFiles(new FilenameFilter() {
			
			@Override
			public boolean accept(File dir, String name) {
				if(name.endsWith(&quot;.java&quot;)) {// change this to your extension
					return true;
				}else {
					return false;
				}
			}
		});
		
		// let us copy each file to the target folder
		for(File fSource:sourceFiles) {
			File fTarget = new File(new File(targetFolder), fSource.getName());
			copyFileUsingStream(fSource,fTarget);
			// fSource.delete(); // Uncomment this line if you want source file deleted
		}
		
		
	}
	
	/**
	 * Copies a file using the File streams
	 * @param source
	 * @param dest
	 */
	private static void copyFileUsingStream(File source, File dest)  {
	    InputStream is = null;
	    OutputStream os = null;
	    try {
	        is = new FileInputStream(source);
	        os = new FileOutputStream(dest);
	        byte[] buffer = new byte[1024];
	        int length;
	        while ((length = is.read(buffer)) &gt; 0) {
	            os.write(buffer, 0, length);
	        }
	    }catch(Exception ex) {
	    	System.out.println(&quot;Unable to copy file:&quot;+ex.getMessage());
	    }	
	    finally {
	    	try {
	    		is.close();
	    		os.close();
	    	}catch(Exception ex) {}
	    }
	}

}
</pre></div></div>
<p>Lets imitate this behavior with a Camel route.</p>

<ul>
  
<li>Please open class <tt>FileCopyRoute</tt></li>
  
<li>Follow the instructions in the code</li>
  
<li>Compare the above with what you created&#x2026;</li>
</ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright (c) by Ivo Woltring. All rights reserved
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
